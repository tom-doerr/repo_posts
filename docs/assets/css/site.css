/* Minimal style polish: typography + post cards */
:root { scroll-behavior: auto; }
:root { --accent:#2563eb; --gap:12px; --radius:8px; }
@media (prefers-color-scheme: dark){ :root { --accent:#8ab4f8; } }
@media (prefers-color-scheme: dark){ a{ color: var(--accent); } }
body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; line-height: 1.6; }
a { text-decoration: underline; text-underline-offset: 2px; text-decoration-thickness: 1.5px; border-bottom: none; }
a:hover { border-bottom-color: currentColor; }
a:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }
/* Stronger underline on hover for readability */
a:hover { text-decoration-thickness: 2px; }
.fade-enter {} /* reserved */
.no-js {} /* reserved */
.view-transition {} /* reserved */
.fade-out {} /* reserved */
.leaving {} /* reserved */
/* Use theme defaults to avoid overlap with left header */
.wrapper {}
section { max-width: 900px; }
footer { min-height:40px; }
.post { background: #fff; border: 1px solid #eaeaea; border-radius: var(--radius); padding: calc(var(--gap) - 2px) var(--gap); margin: calc(var(--gap) + 6px) 0; box-shadow: 0 1px 2px rgba(0,0,0,0.03); transition: transform .15s ease, box-shadow .15s ease; position: relative; }
.post { scroll-margin-top: 16px; }
.post:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(0,0,0,.06); }
.post img { display: block; max-width: 100%; height: auto; border-radius: calc(var(--radius) - 2px); border: 1px solid #eee; transition: opacity .2s ease; }
.stretched-link{ position:absolute; inset:0; z-index:1; text-indent:-9999px; }
.post-image-link { display:block }
.post-image-link img { transition: transform .15s ease }
.post-image-link:hover img { transform: scale(1.01) }
.post img[loading="lazy"] {}
.post-image img { display:block; max-width:100%; height:auto; box-shadow: 0 1px 4px rgba(0,0,0,.06); }
.post-image img { transition: opacity .2s ease; }
.post:hover .post-image img { box-shadow: 0 6px 18px rgba(0,0,0,.10); }
.post .post-meta { font-size: 12px; color: #666; margin-bottom: 8px; }
.post h1 { font-size: 24px; line-height: 1.3; margin: 10px 0 6px; }
.post h2 { font-size: 20px; line-height: 1.35; margin: 12px 0 6px; }
.post h3 { font-size: 18px; line-height: 1.4; margin: 10px 0 6px; }
.post p, .post li { max-width: 72ch; }
h3 { margin-top: 20px; }
ul { padding-left: 18px; }

/* (Removed) details link styles */

/* Search UI */
.search { position: relative; margin-top: 8px; max-width: 420px; }
#site-search { width: 100%; padding: 8px 10px; border-radius: 6px; border:1px solid #e0e0e0; }
#site-search:focus { outline: 2px solid var(--accent); outline-offset: 2px; }
#search-results { position: absolute; top: calc(100% + 6px); left: 0; width: 100%; z-index: 50; }
#search-results ul { list-style: none; padding: 6px; margin: 0; border:1px solid #eaeaea; border-radius: 8px; background:#fff; box-shadow: 0 8px 18px rgba(0,0,0,.08); }
#search-results li { display:block; padding:6px 6px; font-size: 14px; }
#search-results li.active { background: rgba(37,99,235,0.08); border-radius:6px; }
#search-results a { display:block; font-weight:600; color:inherit; border-bottom: none; margin-bottom:2px; text-decoration: none; }
#search-results small { display:block; color:#666; margin-bottom:2px; }
@media (prefers-color-scheme: dark){
  #site-search{ background:#0f0f0f; color:#e6e6e6; border-color:#2a2a2a; }
  #search-results ul{ background:#121212; border-color:#2a2a2a; box-shadow: 0 8px 18px rgba(0,0,0,.4); }
  #search-results li.active { background: rgba(138,180,248,0.12); }
}
/* Search snippet */
#search-results .snippet{ color:#555; font-size:12px; line-height:1.4; display:block; margin-top:2px; }
@media (prefers-color-scheme: dark){ #search-results .snippet{ color:#bbb; } }

/* Chips and related list */
.chips { margin: 8px 0 6px; }
.chip { display:inline-block; font-size: 12px; padding: 2px 8px; border:1px solid #e0e0e0; border-radius: 999px; background:#fafafa; color:#555 }
.related-list { list-style: none; padding-left: 0; }
.related-list li { display:block; margin:8px 0; padding:8px 10px; border:1px solid #eaeaea; border-left:3px solid var(--accent); border-radius:8px; background:#fff; }
@media (prefers-color-scheme: dark){ .related-list li { background:#111; border-color:#2a2a2a; } }
.related-head { display:flex; align-items:center; gap:8px; }
.related-head { margin-top:4px; }
.related-link { font-weight:600; color:inherit; border-bottom:none; text-decoration: none; }
.related-link:hover { text-decoration: none; }
.related-list .dot { width:6px; height:6px; border-radius:50%; background: var(--accent); display:inline-block; }
/* Long related titles: collapse with ellipsis */
.related-list a { overflow:hidden; text-overflow:ellipsis; white-space:nowrap; min-width:0 }
.related-snippet{ display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; color:#666; font-size:12px; margin:0 0 4px 0; padding:0; }
@media (prefers-color-scheme: dark){ .related-snippet{ color:#bbb } }
/* Related thumbnails */
.related-image-link img{ display:block; max-width:100%; height:auto; border-radius:6px; border:1px solid #eee; }

/* (Removed) Two-column grid on wide screens to avoid overlap with left header */

/* (Removed) fixed RSS badge */

/* Header links spacing */
.archive-link{ margin-left: 8px; }
.status-link{ margin-left: 8px; }
.rss-link{ margin-left: 10px; text-decoration: none; }

/* Subtle page fade-in; keeps anchors accurate; respects reduced motion */
@keyframes fadeIn { from { opacity: .001 } to { opacity: 1 } }
body { animation: fadeIn .15s ease-out; }
@media (prefers-reduced-motion: reduce){ body { animation: none; } }

/* Micro header */
.micro-header{ position: sticky; top:0; z-index: 30; display:flex; align-items:center; gap: var(--gap); padding: 6px var(--gap); border-bottom:1px solid #eaeaea; background: rgba(255,255,255,0.85); backdrop-filter: blur(8px); }
.micro-header .micro-title{ font-weight:700; color:inherit; text-decoration:none; margin-right:4px; }
.micro-header .search{ margin-top: 0; flex: 1 1 420px; max-width: 520px; }
.micro-header .search .sem{ margin-left: 8px; font-size: 12px; color:#666 }
.micro-header .search .sem-help{ margin-left: 6px; font-size: 12px; color:#666; text-decoration: none; border-bottom: 1px dotted #aaa }
.micro-header .search .sem-help:hover{ border-bottom-color: currentColor }
.micro-header .search .sem-status{ margin-left: 6px; font-size: 12px; color:#999 }
.micro-header .micro-links a{ margin-left: 10px; text-decoration: none; }
@media (prefers-color-scheme: dark){ .micro-header{ background: rgba(17,17,17,0.78); border-color:#2a2a2a } }

/* Consistent focus rings for interactive elements */
.micro-links button:focus-visible,
.micro-links a:focus-visible,
.chip:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
summary:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }

/* Copy toast for RSS feedback */
#copy-toast{ position:fixed; left:8px; top:44px; background:#fff; color:#333; border:1px solid #e0e0e0; border-radius:6px; padding:6px 8px; box-shadow:0 6px 18px rgba(0,0,0,.12); opacity:0; transition:opacity .15s ease; pointer-events:none; z-index:60; }
#copy-toast.show{ opacity:1; }
@media (prefers-color-scheme: dark){ #copy-toast{ background:#111; color:#e6e6e6; border-color:#2a2a2a; box-shadow:0 8px 18px rgba(0,0,0,.4) } }

/* loading-fade: opacity 0 until onload removes the class */
.loading-blur{ opacity: 0; }
/* Semantic search running indicator */
#sem-status:not([hidden])::before{
  content:""; display:inline-block; width:10px; height:10px; margin-right:6px;
  border:2px solid var(--accent); border-top-color:transparent; border-radius:50%;
  animation: semspin .8s linear infinite; vertical-align:-2px;
}
@keyframes semspin{ to{ transform:rotate(360deg) } }
.sem-running #sem-toggle{ pointer-events:none; opacity:.6 }

/* Skip link for accessibility */
.skip-link{ position:absolute; top:-40px; left:8px; background:var(--accent); color:#fff; padding:8px 12px; border-radius:4px; z-index:100; text-decoration:none; }
.skip-link:focus{ top:8px; }

/* Search clear button */
#search-clear{ position:absolute; right:110px; top:50%; transform:translateY(-50%); border:none; background:transparent; font-size:18px; color:#666; cursor:pointer; padding:4px 8px; line-height:1; }
#search-clear:hover{ color:#333; }
@media (prefers-color-scheme: dark){ #search-clear{ color:#999 } #search-clear:hover{ color:#ccc } }

/* Search result count */
.search-count{ font-size:12px; color:#666; margin-top:4px; }
@media (prefers-color-scheme: dark){ .search-count{ color:#999 } }

/* Empty state */
.search-empty{ padding:12px; text-align:center; color:#666; font-size:14px; }
@media (prefers-color-scheme: dark){ .search-empty{ color:#999 } }

/* Mobile responsiveness (<640px) */
@media (max-width: 639px){
  .micro-header{ flex-wrap:wrap; gap:6px; padding:6px 8px; }
  .micro-header .search{ order:2; flex:1 1 100%; max-width:none; margin-top:4px; }
  .micro-header .micro-links{ gap:4px; }
  .micro-header .micro-links a{ margin-left:6px; font-size:14px; }
  #search-clear{ right:90px; }
  .post{ padding:8px 10px; margin:10px 0; }
  .post h1{ font-size:20px; }
  .post h2{ font-size:18px; }
  .post h3{ font-size:16px; }
}
